<app-banner color="purple" title="{{'REPORTS.REPORTS' | translate}}" img="/assets/img/banners/banner-reportes-pc.jpg" imgMobile="/assets/img/banners/banner-reportes-mobile.jpg"></app-banner>
<!-- <app-logo></app-logo> -->

<div class="container m-t4 fade-in">
  <!-- <h1 class="border-bottom-orange-init" id="reportsTitle">{{ "REPORTS.REPORTS" | translate }}</h1> -->
  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="50px" fxLayoutGap.lt-md="0px">
    <div fxLayout="column" fxFlex="35" fxFlex.lt-md="100">
      
      <div fxLayout="row" class="mt-4 mb-2">
        <span fxLayout="column" fxFlex="100">
          <app-card-data
            [number]="account | currency: '':'symbol':'1.0-0'"
            Classtag="gtmReportesClicMisComisionesVerDetalle1"
            classCard="color-card"
            imgCard = "assets/img/icon-com.svg"
            text="Comisiones de este mes"
            textToolTip ="Las compras de tus referidos efectivas que se generen por medio de tus links durante el mes, se pagarán al siguiente mes entre los días 15 y 20."
            (openDetail)="break('commissions')"
          ></app-card-data>
        </span>
        
      </div>
      <div fxLayout="row" class="mb-2">
        <span fxLayout="column" fxFlex="100">
          <app-card-data
            [number]="available | currency: '':'symbol':'1.0-0'"
            Classtag="gtmReportesClicMisComisionesVerDetalle2"
            classCard="color-card-1"
            imgCard = "assets/img/icon-pay.svg"
            text="Saldo pendiente por pagar"
            textToolTip ="Este dinero corresponde a los saldos acumulados en los saldos anteriores, y te será pagado cuando completes el monto mínimo ."
            (openDetail)="break('balance')"
          ></app-card-data>
        </span>
      </div>
      <div fxLayout="row">
        <span fxLayout="column" fxFlex="100">
          <app-card-data
            [number]="rejected | currency: '':'symbol':'1.0-0'"
            Classtag="gtmReportesClicMisComisionesVerDetalle3"
            classCard="color-card-3"
            imgCard = "assets/img/icon-rejected-com.svg"
            text="Comisiones rechazadas"
            textToolTip ="Estas comisiones no se hicieron efectivas, ya que el negocio confirmó que la compra no fue realizada de manera exitosa."
            (openDetail)="break('rejected-commissions')"
          ></app-card-data>
        </span>
      </div>
      <div class="acumulated mt-2">
        <app-card-data-total
            [radicado]="totalAcumulated | currency: '':'symbol':'1.0-0'"
            description="Total comisiones"
            classTotal="color-card-2"
            [linksTotal]="totalLinks"
            [productosTotales] ="totalProducts"
            [conversionRate]="conversionRate"
            imgTotal = "assets/img/icon-total.svg"
            Classtag="gtmReportesClicMisComisionesSaldoAcumulado"
          ></app-card-data-total>
      </div>
      <!-- <p class="mb-0">{{ 'REPORTS.AVAILABLE_TEXT' | translate }}</p>
      <p class="mb-0">{{ 'REPORTS.ACCOUNT_TEXT' | translate }}</p> -->
      
    </div>
    <div fxLayout="row" class="w-100">
      <div fxLayout="column" class="w-100" fxLflex="100">
        <app-table-historial (dataUser)="userData($event)" [dataSource]="dataSource"></app-table-historial>
        <mat-paginator
          [length]="totalItems"
          [pageSize]="pageSize"
          [pageSizeOptions]="[20]"
          [pageIndex]="pageIndex"
          (page)="pagination($event)"
        ></mat-paginator>
      </div>
    </div>
  </div>
</div>


<ng-template #templateBreak>
  <p>Las compras de tus referidos efectivas que se generen por medio de tus links durante el mes, se pagarán al siguiente mes entre los días 15 y 20.</p>
  <app-table-detail-comission [dataSource]="dataBreak1"></app-table-detail-comission>
</ng-template>

<ng-template #templateBreak2>
  <p>Este dinero corresponde a los saldos acumulados en los saldos anteriores, y te será pagado cuando completes el monto mínimo ($ 10,000).</p>
  <app-table-detail-comission [dataSource]="dataBreak2"></app-table-detail-comission>
</ng-template>

<ng-template #templateBreak3>
  <p>Estas comisiones no se hicieron efectivas, ya que el negocio confirmó que la compra no fue realizada de manera exitosa.</p>
  <app-table-detail-comission [dataSource]="dataBreak3"></app-table-detail-comission>
</ng-template>

<ng-template #templateAcumulated>
  <p>Este dinero corresponde a los saldos acumulados en los saldos anteriores, y te será pagado cuándo completes el monto mínimo($10,000).</p>
  <app-table-detail-comission [dataSource]="dataAcumulated"></app-table-detail-comission>
</ng-template>