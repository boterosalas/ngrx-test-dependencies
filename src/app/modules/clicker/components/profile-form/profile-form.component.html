<div>
  <p>{{ "PROFILE.BASIC" | translate }}</p>

  <mat-card class="p-0 ml-1 mr-1">
    <span
      fxLayout="row"
      fxLayout.xs="column"
      fxLayoutGap="80px"
      fxLayoutGap.xs="0px"
      class="item"
    >
      <h3 class="gray m-0">{{ "PROFILE.PERSONAL_INFO" | translate }}</h3>
    </span>

    <span
      fxLayout="row"
      fxLayout.xs="column"
      fxLayoutGap="80px"
      fxLayoutGap.xs="0px"
      class="item"
    >
      <label fxLayout="column" fxFLex="50" fxFLex.xs="0" fxLayout.xs="row">{{
        "GENERIC.NAME" | translate
      }}</label>
      <span fxLayout="row" fxLayoutAlign="space-between center " class="w-85">
        <span
          class="info"
          fxLayout="column"
          fxLayout.xs="row"
          fxFLex="70"
          fxFLex.xs="0"
          >{{ name }} {{ lastName }}</span
        >
        <a mat-raised-button class="no-shadow" (click)="editName(userInfo)"
          ><img src="/assets/img/icono-editar.svg" alt="editar"
        /></a>
      </span>
    </span>

    <span
      fxLayout="row"
      fxLayout.xs="column"
      fxLayoutGap="80px"
      fxLayoutGap.xs="0px"
      class="item"
    >
      <label fxLayout="column" fxFLex="50" fxFLex.xs="0" fxLayout.xs="row">{{
        "GENERIC.EMAIL" | translate
      }}</label>
      <span
        class="info"
        fxLayout="column"
        fxLayout.xs="row"
        fxFLex="70"
        fxFLex.xs="0"
        >{{ email }}</span
      >
    </span>

    <span
      fxLayout="row"
      fxLayout.xs="column"
      fxLayoutGap="80px"
      fxLayoutGap.xs="0px"
      class="item"
    >
      <label fxLayout="column" fxFLex="50" fxFLex.xs="0" fxLayout.xs="row">{{
        "GENERIC.CELLPHONE" | translate
      }}</label>
      <span fxLayout="row" fxLayoutAlign="space-between center " class="w-85">
      <span
        class="info"
        fxLayout="column"
        fxLayout.xs="row"
        fxFLex="70"
        fxFLex.xs="0"
        >{{ phone }}</span
      >
      <a mat-raised-button class="no-shadow" (click)="editCell(userInfo)"
      ><img src="/assets/img/icono-editar.svg" alt="editar"
    /></a>
      </span>
    </span>
    <span
      fxLayout="row"
      fxLayout.xs="column"
      fxLayoutGap="80px"
      fxLayoutGap.xs="0px"
      class="item"
    >
      <label fxLayout="column" fxFLex="50" fxFLex.xs="0" fxLayout.xs="row">{{
        "GENERIC.DOCUMENT" | translate
      }}</label>
      <span
        class="info"
        fxLayout="column"
        fxLayout.xs="row"
        fxFLex="70"
        fxFLex.xs="0"
        >{{ id }}</span
      >
    </span>
    <span
      fxLayout="row"
      fxLayout.xs="column"
      fxLayoutGap="80px"
      fxLayoutGap.xs="0px"
      class="item"
    >
      <label fxLayout="column" fxFLex="50" fxFLex.xs="0" fxLayout.xs="row">{{
        "GENERIC.PASSWORD" | translate
      }}</label>
      <span fxLayout="row" fxLayoutAlign="space-between center " class="w-85">
      <span
        class="info"
        fxLayout="column"
        fxLayout.xs="row"
        fxFLex="70"
        fxFLex.xs="0"
        >*******</span
      >
      <a mat-raised-button class="no-shadow" (click)="changePassword(userInfo)"
      ><img src="/assets/img/icono-editar.svg" alt="editar"
    /></a>
    </span>
    </span>
  </mat-card>

  <div *ngIf="isEmployee === false" class="mt-3">
    <mat-card class="p-0 mb-3 ml-1 mr-1">
      <span
        fxLayout="row"
        fxLayout.xs="column"
        fxLayoutGap="80px"
        fxLayoutGap.xs="0px"
        class="item"
      >
        <h3 class="gray m-0">{{ "PROFILE.ACOUNT_INFO" | translate }}</h3>
      </span>
      <span
        fxLayout="row"
        fxLayout.xs="column"
        fxLayoutGap="80px"
        fxLayoutGap.xs="0px"
        class="item"
      >
        <label fxLayout="column" fxFLex="50">{{
          "REGISTER.BANK" | translate
        }}</label>
        <span
          class="info"
          fxLayout="column"
          fxLayout.xs="row"
          fxFLex="70"
          fxFLex.xs="0"
          >{{ bank }}</span
        >
      </span>
      <span
        fxLayout="row"
        fxLayout.xs="column"
        fxLayoutGap="80px"
        fxLayoutGap.xs="0px"
        class="item"
      >
        <label>{{ "REGISTER.ACCOUNT" | translate }}</label>
        <div class="info">
          <span *ngIf="typeBankAccount === '1'"> Ahorros </span>
          <span *ngIf="typeBankAccount === '2'"> Corriente </span> -
          {{ bankAccountNumber }}
        </div>
      </span>
    </mat-card>
  </div>
</div>

<!-- template edit name and lastname -->

<ng-template #templateDialog>
  <form
    [formGroup]="profileForm"
    fxLayout="column"
    fxFlex="100"
  >
    <mat-form-field>
      <input
        matInput
        id="name"
        type="text"
        placeholder="{{ 'GENERIC.NAME' | translate }}"
        formControlName="name"
        required
      />

      <mat-error
      id="requiredName"
      *ngIf="
        profileForm.controls.name.invalid &&
        profileForm.controls.name.errors.required
      "
      >{{ "GENERIC.REQUIRED" | translate: { formValue: "Nombre" } }}</mat-error
    >

    <mat-error
      id="maxName"
      *ngIf="
        profileForm.controls.name.invalid &&
        profileForm.controls.name.errors.maxlength
      "
      >{{
        "GENERIC.MAX_CHARACTERS"
          | translate
            : {
                maxchar:
                  profileForm.controls.name.errors.maxlength.requiredLength
              }
      }}</mat-error
    >

    <mat-error
      id="invalidName"
      *ngIf="
        profileForm.controls.name.invalid &&
        profileForm.controls.name.errors.pattern
      "
      >{{ "GENERIC.INVALID_FORMAT" | translate: { val: "Nombre" } }}</mat-error
    >

    </mat-form-field>
    <mat-form-field>
      <input
        matInput
        id="lastname"
        type="text"
        placeholder="{{ 'GENERIC.LASTNAME' | translate }}"
        formControlName="lastName"
        required
      />
      <mat-error
      id="requiredLastName"
      *ngIf="
        profileForm.controls.lastName.invalid &&
        profileForm.controls.lastName.errors.required
      "
      >{{
        "GENERIC.REQUIRED" | translate: { formValue: "Apellidos" }
      }}</mat-error
    >

    <mat-error
      id="maxLastName"
      *ngIf="
        profileForm.controls.lastName.invalid &&
        profileForm.controls.lastName.errors.maxlength
      "
      >{{
        "GENERIC.MAX_CHARACTERS"
          | translate
            : {
                maxchar:
                  profileForm.controls.lastName.errors.maxlength.requiredLength
              }
      }}</mat-error
    >

    <mat-error
      id="invalidLastName"
      *ngIf="
        profileForm.controls.lastName.invalid &&
        profileForm.controls.lastName.errors.pattern
      "
      >{{
        "GENERIC.INVALID_FORMAT" | translate: { val: "Apellidos" }
      }}</mat-error
    >
    </mat-form-field>
    <button
    mat-raised-button
    id="editProfile"
    class="center button button-100"
    color="orange"
    (click)="editUser()"
    [disabled]="!profileForm.valid"
  > {{ 'GENERIC.SAVE' | translate }} </button>

  </form>
</ng-template>

<!-- template cellPhone-->

<ng-template #templateDialogCell>
    <form
      [formGroup]="profileFormCell"
      fxLayout="column"
      fxFlex="100"
    >
    <mat-form-field>
        <input
          matInput
          id="phone"
          type="text"
          placeholder="{{ 'GENERIC.CELLPHONE' | translate }}"
          formControlName="phone"
          required
        />
        <mat-error
          id="requiredPhone"
          *ngIf="
            profileFormCell.controls.phone.invalid &&
            profileFormCell.controls.phone.errors.required
          "
          >{{ "GENERIC.REQUIRED" | translate: { formValue: "Celular" } }}</mat-error
        >
    
        <mat-error
          id="minPhone"
          *ngIf="
            profileFormCell.controls.phone.invalid &&
            profileFormCell.controls.phone.errors.minlength
          "
          >{{
            "GENERIC.MIN_CHARACTERS"
              | translate
                : {
                    minchar:
                      profileFormCell.controls.phone.errors.minlength.requiredLength
                  }
          }}</mat-error
        >
    
        <mat-error
          id="maxPhone"
          *ngIf="
            profileFormCell.controls.phone.invalid &&
            profileFormCell.controls.phone.errors.maxlength
          "
          >{{
            "GENERIC.MAX_CHARACTERS"
              | translate
                : {
                    maxchar:
                      profileFormCell.controls.phone.errors.maxlength.requiredLength
                  }
          }}</mat-error
        >
    
        <mat-error
          id="numberPhone"
          *ngIf="
            profileFormCell.controls.phone.invalid &&
            profileFormCell.controls.phone.errors.pattern
          "
          >{{ "GENERIC.ONLY_NUMBERS" | translate }}</mat-error
        >
      </mat-form-field>
      <button
      mat-raised-button
      id="editProfile"
      class="center button button-100 mt-4"
      color="orange"
      (click)="editUser()"
      [disabled]="!profileFormCell.valid"
    > {{ 'GENERIC.SAVE' | translate }} </button>
  
    </form>
  </ng-template>


<!-- template password-->

<ng-template #templateDialogPass>
    <form class="register-container"
      [formGroup]="profileFormPass"
      fxLayout="column"
      fxFlex="100"
    >
    <mat-form-field>
        <mat-label>{{ 'GENERIC.ACTUAL_PASSWORD' | translate }}</mat-label>
        <mat-pass-toggle-visibility
          #toggleVisbility0
          matSuffix
        ></mat-pass-toggle-visibility>
        <input
          matInput
          #passwordWithValidation
          [type]="toggleVisbility0.type"
          required
          formControlName="actualPassword"
          placeholder="{{ 'GENERIC.ACTUAL_PASSWORD' | translate }}"
        />
        <mat-error
          id="requiredPassword"
          *ngIf="
            profileFormPass.controls.actualPassword.invalid &&
            profileFormPass.controls.actualPassword.errors.required
          "
          >{{
            "GENERIC.REQUIRED" | translate: { formValue: "Contrase単a" }
          }}</mat-error
        >
    
        <mat-error
          id="minPassword"
          *ngIf="
            profileFormPass.controls.actualPassword.invalid &&
            profileFormPass.controls.actualPassword.errors.minlength
          "
          >{{
            "GENERIC.MIN_CHARACTERS"
              | translate
                : {
                    minchar:
                      profileFormPass.controls.actualPassword.errors.minlength.requiredLength
                  }
          }}</mat-error
        >
    
        <mat-error
          id="maxPassword"
          *ngIf="
            profileFormPass.controls.actualPassword.invalid &&
            profileFormPass.controls.actualPassword.errors.maxlength
          "
          >{{
            "GENERIC.MAX_CHARACTERS"
              | translate
                : {
                    maxchar:
                      profileFormPass.controls.actualPassword.errors.maxlength.requiredLength
                  }
          }}</mat-error
        >
    
        <mat-error
          id="patternPassword"
          *ngIf="
            profileFormPass.controls.actualPassword.invalid &&
            profileFormPass.controls.actualPassword.errors.pattern
          "
          >{{ "GENERIC.PASSWORD_PATTERN" | translate }}</mat-error
        >
      </mat-form-field>
    <mat-form-field>
        <mat-label>Nueva contrase単a</mat-label>
        <mat-pass-toggle-visibility
          #toggleVisbility
          matSuffix
        ></mat-pass-toggle-visibility>
        <input
          matInput
          #passwordWithValidation
          [type]="toggleVisbility.type"
          required
          formControlName="password"
          placeholder="{{ 'GENERIC.PASSWORD' | translate }}"
        />
        <mat-error
          id="requiredPassword"
          *ngIf="
            profileFormPass.controls.password.invalid &&
            profileFormPass.controls.password.errors.required
          "
          >{{
            "GENERIC.REQUIRED" | translate: { formValue: "Contrase単a" }
          }}</mat-error
        >
    
        <mat-error
          id="minPassword"
          *ngIf="
            profileFormPass.controls.password.invalid &&
            profileFormPass.controls.password.errors.minlength
          "
          >{{
            "GENERIC.MIN_CHARACTERS"
              | translate
                : {
                    minchar:
                      profileFormPass.controls.password.errors.minlength.requiredLength
                  }
          }}</mat-error
        >
    
        <mat-error
          id="maxPassword"
          *ngIf="
            profileFormPass.controls.password.invalid &&
            profileFormPass.controls.password.errors.maxlength
          "
          >{{
            "GENERIC.MAX_CHARACTERS"
              | translate
                : {
                    maxchar:
                      profileFormPass.controls.password.errors.maxlength.requiredLength
                  }
          }}</mat-error
        >
    
        <mat-error
          id="patternPassword"
          *ngIf="
            profileFormPass.controls.password.invalid &&
            profileFormPass.controls.password.errors.pattern
          "
          >{{ "GENERIC.PASSWORD_PATTERN" | translate }}</mat-error
        >
      </mat-form-field>
      <div>
      </div>
    
      <mat-form-field>
        <mat-pass-toggle-visibility
          #toggleVisbility2
          matSuffix
        ></mat-pass-toggle-visibility>
        <input
          matInput
          id="confirmPassword"
          [type]="toggleVisbility2.type"
          placeholder="{{ 'GENERIC.CONFIRM_PASSWORD' | translate }}"
          formControlName="confirmPassword"
          required
          spacebar
        />
        <mat-error
          id="notmatchPassword"
          *ngIf="
            profileFormPass.get('confirmPassword').errors &&
            profileFormPass.get('confirmPassword').errors.ConfirmPassword
          "
          >{{ "REGISTER.PASSWORD_NOT_MATCH" | translate }}</mat-error
        >
    
        <mat-error
          id="requiredConfirmPassword"
          *ngIf="
            profileFormPass.controls.confirmPassword.invalid &&
            profileFormPass.controls.confirmPassword.errors.required
          "
          >{{
            "GENERIC.REQUIRED" | translate: { formValue: "Contrase単a" }
          }}</mat-error
        >
    
        <mat-error
          id="minConfirmPassword"
          *ngIf="
            profileFormPass.controls.confirmPassword.invalid &&
            profileFormPass.controls.confirmPassword.errors.minlength
          "
          >{{
            "GENERIC.MIN_CHARACTERS"
              | translate
                : {
                    minchar:
                      profileFormPass.controls.confirmPassword.errors.minlength
                        .requiredLength
                  }
          }}</mat-error
        >
    
        <mat-error
          id="maxConfirmPassword"
          *ngIf="
            profileFormPass.controls.confirmPassword.invalid &&
            profileFormPass.controls.confirmPassword.errors.maxlength
          "
          >{{
            "GENERIC.MAX_CHARACTERS"
              | translate
                : {
                    maxchar:
                      profileFormPass.controls.confirmPassword.errors.maxlength
                        .requiredLength
                  }
          }}</mat-error
        >
      </mat-form-field>
    
      <button
      mat-raised-button
      id="editProfile"
      class="center button button-100 mt-4"
      color="orange"
      (click)="changePasswordUser()"
      [disabled]="!profileFormPass.valid"
    > {{ 'GENERIC.SAVE' | translate }} </button>
  
    </form>
  </ng-template>
