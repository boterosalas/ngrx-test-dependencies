<!-- logged section -->

<section *ngIf="auth.isLoggedIn()">
  <!-- stories clickam looged -->
  <div class="stories-section">
    <app-slider-stories></app-slider-stories>
  </div>

  <section fxLayout="row" fxLayout.xs="column" class="container-fluid mt-4 mb-4" fxLayoutGap="20px">
    <div fxLayout="column" class="left-section" fxFlex="70" fxFlex.xs="100" fxLayoutGap="20px">
      <mat-card class="card mat-card-box-shadow">
        <div>
          <div class="container">
            <span class="d-block"></span>
            <app-title showTitleh3="true" text="{{ 'HOME.OFFERS' | translate }}"></app-title>
            <p ngClass.gt-xs="mb-4" ngClass.xs="f-16">{{ 'HOME.OFFERS_TEXT' | translate }}</p>
          </div>
        </div>

        <app-slider
          Class="gtmHomeCarruselTopDeProductos"
          [showArrows]="false"
          [isSlider]="true"
          (action)="sliderOffers()"
          [sliderWeb]="offersWeb"
          [slideConfig]="slideConfigProductsLogged"
          class="mb-3"
        ></app-slider>
      </mat-card>

      <mat-card class="card mat-card-box-shadow">
        <app-report-reward></app-report-reward>
      </mat-card>

      <app-image
        fxHide.xs="true"
        [routerLink]="['/negocios']"
        imageClass="buimg cursor-pointer w-100 gtmPanelEncuentraAquiTodosLosNegocios"
        src="/assets/img/home/negocios.png"
        alt="negocios"
      ></app-image>

      <mat-card class="card mat-card-box-shadow">
        <app-top-reward></app-top-reward>
      </mat-card>

      <mat-card fxHide.gt-xs="true" class="card mat-card-box-shadow purple" [routerLink]="['/negocios']">
        <app-title showTitleh3="true" text="NEGOCIOS" commonClass="white m-0"></app-title>
        <span>Encuentra <span class="underline">aquí</span> todos los negocios</span>
      </mat-card>
    </div>

    <div class="right-section" fxFlex="30" fxFlexOrder.xs="-1" fxFlex.xs="100" fxLayout="column" fxLayoutGap="20px">
      <mat-card class="card mat-card-box-shadow">
        <app-sales-info></app-sales-info>
      </mat-card>

      <mat-card class="card mat-card-box-shadow">
        <app-title showTitleh3="true" text="INVITA Y GANA"></app-title>
        <p>
          Invita a tus amigos a unirse a la plataforma, ¡gana dinero por su primera ganancia!
          <a [routerLink]="['/referidos']">*Aplican TyC</a>
        </p>
        <span fxLayout="row">
          <input id="urlLink" matInput [value]="url" #linkInput readonly />
          <button mat-mini-fab color="purple2" class="p-0 gtmPanelInvitaYGanaCopiarLink" (click)="copyLink(linkInput)" fxLayoutAlign="center center">
            <i class="tio-copy f-18 cpb gtmPanelInvitaYGanaCopiarLink"></i>
          </button>
        </span>
      </mat-card>

      <div class="widget" fxHide.lt-md="true">
        <a
          href="https://chrome.google.com/webstore/detail/clickam-cashback/jnfdngchdoaemojfkecanhlfgelofibh?authuser=1"
          target="_blank"
          class="w-100"
          mat-raised-button
          color="chrome"
          fxLayout="row"
          fxLayoutGap="10px"
          fxLayoutAlign="center center"
        >
          <img loading="lazy"class="pr-2" src="assets/img/chrome.svg" alt="chrome" />
          <span>Instalar Clickam en Chrome</span>
        </a>
      </div>

      <mat-card class="card mat-card-box-shadow pl-0 pr-0">
        <app-title showTitleh3="true" text="EL CAMINO DEL CLICKAMER" commonClass="pl-3"></app-title>
        <mat-list-item *ngFor="let mission of missions; let i = index">
          <div
            fxLayout="row"
            fxLayoutAlign="start center"
            fxLayoutGap="5px"
            mat-line
            class="purple2-text f-16 galano-bold pb-3 pt-3 border-bottom-gray  gtmPanelCaminoDelClickamer{{mission.description | trim}}"
          >
            <span class="pl-3 gtmPanelCaminoDelClickamer{{mission.description | trim}}" *ngIf="mission.status">
              <i class="tio-checkmark_circle f-18 "></i>
            </span>

            <span class="pl-3 gtmPanelCaminoDelClickamer{{mission.description | trim}}" *ngIf="!mission.status">
              <i class="tio-checkmark_circle_outlined f-18"></i>
            </span>

            <span class="cursor-pointer gtmPanelCaminoDelClickamer{{mission.description | trim}}" (click)="modalWay(i, mission)">
              {{ mission.description }}
            </span>
          </div>
        </mat-list-item>
        <p (click)="logros()" fxLayout="row" fxLayoutAlign="center center" class="pl-3 f-16 mt-3 cursor-pointer yellow galano-bold">
          <mat-icon>emoji_events</mat-icon>
          Logros
        </p>
      </mat-card>

      <mat-card class="card mat-card-box-shadow p-0">
        <app-list-blogs></app-list-blogs>
      </mat-card>
    </div>
  </section>
</section>

<!-- anonymous section -->

<section *ngIf="!auth.isLoggedIn()">
  <!-- welcome  -->

  <div class="container-fluid bg-welcome py-5">
    <app-welcome
      title="¡Bienvenido a Clickam!"
      subtitle="Crea links, comparte y ¡gana!"
      text="Porque en Clickam podrás ahorrar con tus compras y ganar dinero recomendando los productos que más te gustan."
      [buttonHome]=true
    ></app-welcome>
  </div>

  <!-- slider business -->

  <div class="container-fluid py-4 bg-white">
    <app-title showTitleh3="true" text="GANANCIAS POR COMPRAR O REFERIR" class="text-center"></app-title>
    <app-slider-share (click)="openRegister()" [slider]="bussiness" [slideConfig]="slideConfig"></app-slider-share>
  </div>

  <!-- images data -->

  <!-- testimonials -->

  <!-- <div class="container-fluid pt-3 pb-3">
    <div class="container">
      <app-title showTitleh2="true" text="Lo que dicen de nosotros" class="text-center"></app-title>
      <app-slide-testimonials [slider]="testimonials" [slideConfig]="slideConfigTestimonials"></app-slide-testimonials>
    </div>
  </div> -->

  <!-- slider top products -->

  <!-- <div class="container-fluid">
    <div class="container">
      <span class="d-block"></span>
      <app-title
        showTitleh2="true"
        text="{{ 'HOME.OFFERS' | translate }}"
        classWeb="border-bottom-orange-init"
        classMobile="border-bottom-orange-init"
      ></app-title>
      <p ngClass.gt-xs="f-20 mb-4" ngClass.xs="f-16">{{ 'HOME.OFFERS_TEXT' | translate }}</p>
    </div>
  </div> -->

  <!-- <app-slider
    Class="gtmHomeCarruselTopDeProductos"
    [showArrows]="false"
    [isSlider]="true"
    (action)="sliderOffers()"
    [sliderWeb]="offersWeb"
    class="mb-3"
  ></app-slider> -->

<!-- modal promo template -->

<ng-template #templatePromo>
  <div fxShow.gt-xs="true" fxShow.xs="false">
    <a [href]="modalHref" [target]="modalTarget">
      <img loading="lazy"[src]="modalSrcWeb" class="img-responsive w-100 cursor-pointer" [alt]="modalAltWeb" />
    </a>
  </div>

  <div fxShow.gt-xs="false" fxShow.xs="true">
    <a [href]="modalHref" [target]="modalTarget">
      <img loading="lazy"[src]="modalSrcMobile" class="img-responsive w-100 cursor-pointer" [alt]="modalAltMobile" />
    </a>
  </div>
</ng-template>

<!-- modal ingreso clickam -->

<ng-template #templateClickamWay>
  <div [fxLayout]="direction" [fxLayout.xs]="directionMobile" fxLayoutGap="20px">
    <span class="image">
      <app-image [src]="imageWay" [alt]="titleWay"></app-image>
    </span>
    <span>
      <app-title showTitleh3="true" [text]="titleWay"></app-title>
      <p>{{textWay}}</p>
      <app-button *ngIf="showWay" [title]="nameButton" (action)="routeWay()" [haveIcon]="false" class="bp" classButton="shadow-purple"></app-button>
    </span>
  </div>
</ng-template>
