<!-- <app-logo></app-logo> -->
<div *ngIf="auth.isLoggedIn()" class="stories-section">
  <app-slider-stories></app-slider-stories>
</div>

<app-slider
  Class="gtmHomeClicBanner"
  [showArrows]="true"
  [isSlider]="true"
  (action)="sliderOffers()"
  [sliderMobile]="sliderMobile"
  [sliderWeb]="sliderWeb"
></app-slider>

<div class="medals container pt-3" fxHide.gt-xs="true" *ngIf="auth.isLoggedIn()" fxLayout="row" fxLayoutAlign="center center">
  <mat-card fxLayout="row" fxLayoutAlign="center center">
    <div fxLayout="column" fxLayoutAlign="center space-between" fxLayoutGap="5px">
      <span fxLayout="column">
        <img class="icon-medal" src="/assets/img/gamification/medalla.svg" alt="icon" />
      </span>
      <span fxLayout="column" class="f-18 galano-bold white">
        {{ 'MEDALS.MEDALS' | translate }}
      </span>
      <span fxLayout="column">
        <button mat-raised-button class="purple-text" [routerLink]="['/logros']">
          {{ 'MEDALS.MEDALS_SEE' | translate }}
        </button>
      </span>
    </div>
  </mat-card>
</div>

<div class="container" *ngIf="!auth.isLoggedIn()">
  <span class="border-gray d-block"></span>
  <app-how-works-clickam></app-how-works-clickam>
  <app-slider-works></app-slider-works>
</div>

<div class="container-fluid bg-slide" *ngIf="!auth.isLoggedIn()">
  <div class="container">
    <app-home-slide-video></app-home-slide-video>
  </div>
</div>

<div class="container">
  <span fxLayout="row" fxLayoutAlign="space-between center">
    <h3 ngClass.gt-xs="mb-0" class="border-bottom-orange-init title-h3" id="bussinessHook">
      {{ 'HOME.BUSSINESS' | translate }}
    </h3>
    <p *ngIf="auth.isLoggedIn()" ngClass.gt-xs="mb-0 f-20" class="cursor-pointer text-underline purple-text" [routerLink]="['/negocios']">
      {{ 'HOME.ALL_BUSSINESS' | translate }}
    </p>
  </span>
  <p class="f-20" fxHide.xs>{{ 'HOME.BUSSINESS_TEXT' | translate }}</p>
  <div
    fxLayout="row wrap"
    fxLayout.gt-xs="row wrap"
    ngClass.gt-xs="pb-3"
    ngClass.xs="mb-3"
    fxLayoutAlign="center center"
    fxLayoutGap="10px grid"
  >
    <ng-container *ngFor="let bussines of bussiness | slice: 0:8; let i = index">
      <app-bussiness-card
        *ngIf="bussines.code !== 'envios-clickam'"
        (bussiness)="bussinessNavigation(bussines)"
        [img]="bussines.imageurl"
        [code]="bussines.code"
        [title]="bussines.description"
        [percent]="bussines.infoaditional"
      ></app-bussiness-card>
    </ng-container>
    <ng-container *ngFor="let bussines of bussinessClicker; let i = index">
      <app-bussiness-card
        *ngIf="isEmployee === true && bussines.code === 'envios-clickam' && auth.isLoggedIn()"
        (bussiness)="bussinessNavigation(bussines)"
        [img]="bussines.imageurl"
        [title]="bussines.description"
        [percent]="bussines.infoaditional"
      ></app-bussiness-card>
    </ng-container>
  </div>
  <div *ngIf="auth.isLoggedIn()" fxLayout="row" class="card-library" fxShow.gt-xs="true" fxShow.xs="false">
    <div class="position-relative banner-mobile heigth-image" fxShow.gt-xs="true" fxShow.xs="false">
      <div class="position-absolute" fxLayout="column">
        <h3>Descarga las mejores ofertas para compartir.</h3>
        <button mat-raised-button class="button-oferts" color="orange" [routerLink]="['/biblioteca']" id="download-users">
          Ver Ofertas
        </button>
      </div>
      <img class="responsive-img" src="/assets/img/banners/oferts.png" alt="ofertas" />
    </div>
  </div>
  <div *ngIf="auth.isLoggedIn()" fxLayout="row" class="card-library" fxShow.gt-xs="false" fxShow.xs="true">
    <div class="position-relative banner-mobile heigth-image" fxShow.gt-xs="false" fxShow.xs="true">
      <div class="position-absolute" fxLayout="column">
        <h3>Descarga aquí las mejores ofertas del día</h3>
        <button mat-raised-button class="button-oferts" color="orange" [routerLink]="['/biblioteca']" id="download-users">
          Ver Ofertas
        </button>
      </div>
      <img class="responsive-img" src="/assets/img/banners/oferts_mobile.png" alt="ofertas" />
    </div>
  </div>

  <span class="border-gray d-block"></span>
  <h3 class="border-bottom-orange-init title-h3">
    {{ 'HOME.OFFERS' | translate }}
  </h3>
  <p class="f-20" fxHide.xs>{{ 'HOME.OFFERS_TEXT' | translate }}</p>
</div>

<app-slider
  Class="gtmHomeClicOfertas"
  [showArrows]="false"
  [isSlider]="true"
  fxShow.gt-xs="false"
  (action)="sliderOffers()"
  [sliderMobile]="offersMobile"
  [sliderWeb]="offersWeb"
></app-slider>
<app-slider
  Class="gtmHomeClicOfertas"
  [showArrows]="false"
  [isSlider]="false"
  fxShow.xs="false"
  (action)="sliderOffers()"
  [sliderMobile]="offersWeb"
  class="mb-3"
></app-slider>

<div class="container">
  <span class="border-gray d-block mt-3"></span>
  <app-blog-business></app-blog-business>
</div>
<div class="container">
  <app-new-business (openModal)="openRegisterBusiness()"></app-new-business>
</div>
<div *ngIf="auth.isLoggedIn()" class="forms-help" fxLayout="row" fxLayoutAlign="center">
  <div fxLayout="column" fxLayoutAlign="center">
    <div fxLayout="row" fxLayoutAlign="center">
      <div class="mt-4">
        <img src="/assets/img/compartir_testimonial.svg" alt="" />
      </div>
      <div class="mt-4">
        <h4 class="text-cuentanos mt-0 mb-0 ml-3">¿Crees que en Clickam podemos mejorar algo?</h4>
        <p class="expresion-cuentanos mt-0 mb-0 ml-3">¡Cuéntanos!</p>
      </div>
    </div>
    <div *ngIf="!formData && !sendData" class="mt-2 mb-4" fxLayout="row" fxLayoutAlign="center">
      <button fxLayout="row" fxLayoutAlign="space-between center" class="cursor-pointer open-form" (click)="openForm()">
        <span>Abrir formulario</span>
        <mat-icon>keyboard_arrow_down</mat-icon>
      </button>
    </div>
    <div *ngIf="formData && !sendData" class="mt-2 mb-4 pl-2 pr-2" fxLayout="column" fxLayoutAlign="center">
      <form [formGroup]="dateForm">
        <label class="label-up-text" for="picker">Mensaje </label>
        <div class="mt-1">
          <textarea
            matInput
            placeholder="Cuéntanos en qué podemos mejorar."
            id="description"
            type="text"
            formControlName="description"
            required
            class="text-area-heigth"
          ></textarea>
        </div>
      </form>
      <div>
        <div class="mt-3 mb-2" fxLayout="row" fxLayoutAlign="end end">
          <button mat-button ngClass="button_cancel" style="color: #ffffff" (click)="cerrarForm()">Cancelar</button>
          <button
            mat-raised-button
            class="button-oferts ml-2"
            color="orange"
            (click)="saveProposal()"
            id="download-users"
            [disabled]="!dateForm.valid"
          >
            Enviar
          </button>
        </div>
      </div>
    </div>
    <div *ngIf="formData && sendData" class="mt-2 mb-4" fxLayout="column" fxLayoutAlign="center center" style="text-align: center">
      <i class="tio-checkmark_circle" style="font-size: 38px; color: #ffffff"></i>
      <p class="expresion-cuentanos mt-0 mb-0 ml-3">¡Tu comentario ha sido enviado!</p>
      <button class="cursor-pointer open-form mt-2" style="width: 125px" (click)="cerrarForm()">Cerrar</button>
    </div>
  </div>

  <ng-template #templatePromo>
    <div fxShow.gt-xs="true" fxShow.xs="false">
      <a [href]="modalHref" [target]="modalTarget">
        <img [src]="modalSrcWeb" class="img-responsive w-100 cursor-pointer" [alt]="modalAltWeb" />
      </a>
    </div>

    <div fxShow.gt-xs="false" fxShow.xs="true">
      <a [href]="modalHref" [target]="modalTarget">
        <img [src]="modalSrcMobile" class="img-responsive w-100 cursor-pointer" [alt]="modalAltMobile" />
      </a>
    </div>
  </ng-template>
</div>
