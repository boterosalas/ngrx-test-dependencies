<!-- <app-logo></app-logo> -->
<app-slider
  Class="gtmHomeClicBanner"
  [showArrows]="true"
  [isSlider]="true"
  (action)="sliderOffers()"
  [sliderMobile]="sliderMobile"
  [sliderWeb]="sliderWeb"
></app-slider>

<div
  class="medals container pt-3"
  fxHide.gt-xs="true"
  *ngIf="auth.isLoggedIn()"
  fxLayout="row"
  fxLayoutAlign="center center"
>
  <mat-card fxLayout="row" fxLayoutAlign="center center">
    <div
      fxLayout="column"
      fxLayoutAlign="center space-between"
      fxLayoutGap="5px"
    >
      <span fxLayout="column">
        <img
          class="icon-medal"
          src="/assets/img/gamification/medalla.svg"
          alt="icon"
        />
      </span>
      <span fxLayout="column" class="f-18 galano-bold white">
        {{ "MEDALS.MEDALS" | translate }}
      </span>
      <span fxLayout="column">
        <button
          mat-raised-button
          class="purple-text"
          [routerLink]="['/logros']"
        >
          {{ "MEDALS.MEDALS_SEE" | translate }}
        </button>
      </span>
    </div>
  </mat-card>
</div>

<div class="container" *ngIf="!auth.isLoggedIn()">
  <span class="border-gray d-block"></span>
  <app-how-works-clickam></app-how-works-clickam>
  <app-slider-works></app-slider-works>
</div>

<div class="container-fluid bg-slide" *ngIf="!auth.isLoggedIn()">
  <div class="container">
    <app-home-slide-video></app-home-slide-video>
  </div>
</div>

<div class="container">
  <span fxLayout="row" fxLayoutAlign="space-between center">
    <h3
      ngClass.gt-xs="mb-0"
      class="border-bottom-orange-init title-h3"
      id="bussinessHook"
    >
      {{ "HOME.BUSSINESS" | translate }}
    </h3>
    <p
      *ngIf="auth.isLoggedIn()"
      ngClass.gt-xs="mb-0 f-20"
      class="cursor-pointer text-underline purple-text"
      [routerLink]="['/negocios']"
    >
      {{ "HOME.ALL_BUSSINESS" | translate }}
    </p>
  </span>
  <p class="f-20" fxHide.xs>{{ "HOME.BUSSINESS_TEXT" | translate }}</p>
  <div
    fxLayout="row wrap"
    fxLayout.gt-xs="row wrap"
    ngClass.gt-xs="pb-3"
    ngClass.xs="mb-3"
    fxLayoutAlign="center center"
    fxLayoutGap="10px grid"
  >
    <ng-container
      *ngFor="let bussines of bussiness | slice: 0:6; let i = index"
    >
      <app-bussiness-card
        *ngIf="bussines.code !== 'envios-clickam'"
        (bussiness)="bussinessNavigation(bussines)"
        [img]="bussines.imageurl"
        [code]="bussines.code"
        [title]="bussines.description"
        [percent]="bussines.infoaditional"
      ></app-bussiness-card>
    </ng-container>
    <ng-container *ngFor="let bussines of bussinessClicker; let i = index">
      <app-bussiness-card
        *ngIf="
          isEmployee === true &&
          bussines.code === 'envios-clickam' &&
          auth.isLoggedIn()
        "
        (bussiness)="bussinessNavigation(bussines)"
        [img]="bussines.imageurl"
        [title]="bussines.description"
        [percent]="bussines.infoaditional"
      ></app-bussiness-card>
    </ng-container>
  </div>
  <div
    *ngIf="auth.isLoggedIn()"
    fxLayout="row"
    class="card-library"
    fxShow.gt-xs="true"
    fxShow.xs="false"
  >
    <div
      class="position-relative banner-mobile heigth-image"
      fxShow.gt-xs="true"
      fxShow.xs="false"
    >
      <div class="position-absolute" fxLayout="column">
        <h3>Descarga las mejores ofertas para compartir.</h3>
        <button
          mat-raised-button
          class="button-oferts"
          color="orange"
          [routerLink]="['/biblioteca']"
          id="download-users"
        >
          Ver Ofertas
        </button>
      </div>
      <img
        class="responsive-img"
        src="/assets/img/banners/oferts.png"
        alt="ofertas"
      />
    </div>
  </div>
  <div
    *ngIf="auth.isLoggedIn()"
    fxLayout="row"
    class="card-library"
    fxShow.gt-xs="false"
    fxShow.xs="true"
  >
    <div
      class="position-relative banner-mobile heigth-image"
      fxShow.gt-xs="false"
      fxShow.xs="true"
    >
      <div class="position-absolute" fxLayout="column">
        <h3>Descarga aquí las mejores ofertas del día</h3>
        <button
          mat-raised-button
          class="button-oferts"
          color="orange"
          [routerLink]="['/biblioteca']"
          id="download-users"
        >
          Ver Ofertas
        </button>
      </div>
      <img
        class="responsive-img"
        src="/assets/img/banners/oferts_mobile.png"
        alt="ofertas"
      />
    </div>
  </div>

  <span class="border-gray d-block"></span>
  <h3 class="border-bottom-orange-init title-h3">
    {{ "HOME.OFFERS" | translate }}
  </h3>
  <p class="f-20" fxHide.xs>{{ "HOME.OFFERS_TEXT" | translate }}</p>
</div>

<app-slider
  Class="gtmHomeClicOfertas"
  [showArrows]="false"
  [isSlider]="true"
  fxShow.gt-xs="false"
  (action)="sliderOffers()"
  [sliderMobile]="offersMobile"
  [sliderWeb]="offersWeb"
></app-slider>
<app-slider
  Class="gtmHomeClicOfertas"
  [showArrows]="false"
  [isSlider]="false"
  fxShow.xs="false"
  (action)="sliderOffers()"
  [sliderMobile]="offersMobile"
  class="mb-3"
></app-slider>

<div class="container">
  <span class="border-gray d-block mt-3"></span>
  <app-blog-business></app-blog-business>
</div>
<div class="container">
  <app-new-business (openModal)="openRegisterBusiness()"></app-new-business>
</div>
<ng-template #templateBusiness>
  <app-new-business-form
    (registerBusinessEmit)="sendDataBusiness($event)"
    [categories]="categories"
  ></app-new-business-form>
</ng-template>

<ng-template #templatePromo>
  <div fxShow.gt-xs="true" fxShow.xs="false">
    <a [href]="modalHref" [target]="modalTarget">
      <img
        [src]="modalSrcWeb"
        class="img-responsive w-100 cursor-pointer"
        [alt]="modalAltWeb"
      />
    </a>
  </div>

  <div fxShow.gt-xs="false" fxShow.xs="true">
    <a [href]="modalHref" [target]="modalTarget">
      <img
        [src]="modalSrcMobile"
        class="img-responsive w-100 cursor-pointer"
        [alt]="modalAltMobile"
      />
    </a>
  </div>
</ng-template>

<ng-template #templateTerms>
  <div class="terms text-center" *ngIf="stepTerms">
    <img class="icon" src="/assets/img/icon.svg" alt="icon" />
    <div innerHtml="{{ 'GENERIC.NEW_TERMS' | translate }}"></div>
    <button mat-raised-button color="orange" (click)="showTerms()">
      Conócelos aquí
    </button>
  </div>

  <div class="terms" *ngIf="newTermsHTML">
    <h2 class="border-bottom-orange-init">{{ textTerminos }}</h2>
    <div [innerHtml]="contentTerminos"></div>
    <h2 class="border-bottom-orange-init">{{ textProteccion }}</h2>
    <div [innerHtml]="contentProteccion"></div>
    <h2 class="border-bottom-orange-init">{{ textTransparencia }}</h2>
    <div [innerHtml]="contentTransparencia"></div>
    <h2 class="border-bottom-orange-init">{{ textPrograma }}</h2>
    <div [innerHtml]="contentPrograma"></div>
    <div class="mb-3">
      <span>
        <mat-checkbox id="chkaccept" (change)="acceptTermsCheck($event)">
        </mat-checkbox>
      </span>
      <span class="accept-terms ml-2">
        {{ "REGISTER.ACCEPT" | translate }}
      </span>
    </div>

    <span fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="20px">
      <button
        mat-raised-button
        id="accept-modal"
        class="mb-2 mt-2 center button register-button"
        ngClass.gt-xs="pl-5 pr-5"
        ngClass.xs="pl-2 pr-2"
        color="orange"
        [disabled]="!activateButton"
        (click)="sendReferalsTerm()"
      >
        {{ "GENERIC.ACCEPT" | translate }}
      </button>

      <button
        (click)="logout()"
        class="mt-2 center button register-button"
        ngClass.gt-xs="pl-5 pr-5"
        ngClass.xs="pl-2 pr-2"
        mat-raised-button
      >
        {{ "GENERIC.CANCEL" | translate }}
      </button>
    </span>
  </div>
</ng-template>
