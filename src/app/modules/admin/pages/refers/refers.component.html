<app-banner
  title="{{ 'REFER.REFERED' | translate }}"
  img="/assets/img/banners/banner-dashboard-pc.jpg"
  imgMobile="/assets/img/banners/banner-dashboard-mobile.jpg"
></app-banner>

<div class="container minaud">
  <br />
  <div fxLayout="row" fxLayoutGap="30px">
    <div class="border-radius mat-card mat-card-box-shadow mt-3">
      <h3>
        {{ 'REFER.CLICKER_COMISSION_TITLE' | translate }}
      </h3>
      <p>{{ 'REFER.CLICKER_COMISSION_TEXT' | translate }}</p>
      <form [formGroup]="comissionForm">
        <mat-form-field>
          <input matInput id="amount" type="text" placeholder="Valor de la recompensa" formControlName="amount" spacebar required />

          <mat-error id="reuiredamount" *ngIf="comissionForm.controls.amount.invalid && comissionForm.controls.amount.errors.required">{{
            'GENERIC.REQUIRED' | translate: { formValue: 'Valor de la recompensa' }
          }}</mat-error>

          <mat-error id="maxamount" *ngIf="comissionForm.controls.amount.invalid && comissionForm.controls.amount.errors.maxlength">{{
            'GENERIC.MAX_CHARACTERS'
              | translate
                : {
                    maxchar: comissionForm.controls.amount.errors.maxlength.requiredLength
                  }
          }}</mat-error>

          <mat-error id="numberamount" *ngIf="comissionForm.controls.amount.invalid && comissionForm.controls.amount.errors.pattern">{{
            'GENERIC.ONLY_NUMBERS' | translate
          }}</mat-error>
        </mat-form-field>
        <button
          mat-raised-button
          color="orange"
          (click)="saveCommission('amounts-commission')"
          id="send-comission"
          class="ml-2"
          [disabled]="!comissionForm.valid"
        >
          Guardar
        </button>
      </form>
    </div>

    <div class="border-radius mat-card mat-card-box-shadow mt-3">
      <h3>
        {{ 'REFER.CLICKER_REFERED_TITLE' | translate }}
      </h3>
      <p>{{ 'REFER.CLICKER_REFERED_TEXT' | translate }}</p>
      <form [formGroup]="referedForm">
        <mat-form-field>
          <input matInput id="refered" type="text" placeholder="Valor calificado" formControlName="refered" spacebar required />

          <mat-error id="reuiredrefered" *ngIf="referedForm.controls.refered.invalid && referedForm.controls.refered.errors.required">{{
            'GENERIC.REQUIRED' | translate: { formValue: 'Valor calificado' }
          }}</mat-error>

          <mat-error id="maxrefered" *ngIf="referedForm.controls.refered.invalid && referedForm.controls.refered.errors.maxlength">{{
            'GENERIC.MAX_CHARACTERS'
              | translate
                : {
                    maxchar: referedForm.controls.refered.errors.maxlength.requiredLength
                  }
          }}</mat-error>

          <mat-error id="numberrefered" *ngIf="referedForm.controls.refered.invalid && referedForm.controls.refered.errors.pattern">{{
            'GENERIC.ONLY_NUMBERS' | translate
          }}</mat-error>
        </mat-form-field>
        <button
          mat-raised-button
          color="orange"
          (click)="saveCommission('amounts-referred')"
          id="send-refered"
          class="ml-2"
          [disabled]="!referedForm.valid"
        >
          Guardar
        </button>
      </form>
    </div>
  </div>

  <div div fxLayout="row" fxLayoutGap="30px">
    <div class="border-radius mat-card mat-card-box-shadow mt-3">
      <h3>
        {{ 'REFER.CLICKER_NEW_TITLE' | translate }}
      </h3>
      <p>{{ 'REFER.CLICKER_NEW_TEXT' | translate }}</p>
      <form [formGroup]="clickerForm">
        <mat-form-field>
          <input matInput id="refered" type="text" placeholder="Valor calificado" formControlName="newClicker" spacebar required />

          <mat-error
            id="reuiredrefered"
            *ngIf="clickerForm.controls.newClicker.invalid && clickerForm.controls.newClicker.errors.required"
            >{{ 'GENERIC.REQUIRED' | translate: { formValue: 'Valor calificado' } }}</mat-error
          >

          <mat-error id="maxrefered" *ngIf="clickerForm.controls.newClicker.invalid && clickerForm.controls.newClicker.errors.maxlength">{{
            'GENERIC.MAX_CHARACTERS'
              | translate
                : {
                    maxchar: clickerForm.controls.newClicker.errors.maxlength.requiredLength
                  }
          }}</mat-error>

          <mat-error id="numberrefered" *ngIf="clickerForm.controls.newClicker.invalid && clickerForm.controls.newClicker.errors.pattern">{{
            'GENERIC.ONLY_NUMBERS' | translate
          }}</mat-error>
        </mat-form-field>
        <button
          mat-raised-button
          color="orange"
          (click)="saveCommission('amounts-newclicker')"
          id="send-refered"
          class="ml-2"
          [disabled]="!clickerForm.valid"
        >
          Guardar
        </button>
      </form>
    </div>
  </div>
</div>
