<div class="mat-elevation-z0 mt-4 mb-4">
    <table
      mat-table
      #table
      [dataSource]="dataSource"
      class="users-table"
      cdkDropList
      [cdkDropListData]="dataSource"
      (cdkDropListDropped)="dropTable($event)"
    >
      <!-- name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>NOMBRE DEL USUARIO</th>
        <td mat-cell *matCellDef="let element" style="width: 10%;">
          <span fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px">
            <mat-icon matSuffix class="mr-3 ml-2 blue cursor-pointer" cdkDragHandle>drag_indicator</mat-icon>
            {{element.username}}
          </span>
        </td>
      </ng-container>

      <!-- photo Column -->
      <ng-container matColumnDef="photo">
        <th mat-header-cell *matHeaderCellDef>FOTO</th>
        <td mat-cell *matCellDef="let element" style="width: 10%;">
          <span fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px">
            <img class="avatar" [src]="element.imageurl ? element.imageurl : '/assets/img/user.png'" alt="avatar">
          </span>
        </td>
      </ng-container>

      <!-- user Column -->
      <ng-container matColumnDef="user">
        <th mat-header-cell *matHeaderCellDef>USUARIO DE REDES SOCIALES</th>
        <td mat-cell *matCellDef="let element" style="width: 10%;">
          {{element.usersocialnetwork}}
        </td>
      </ng-container>

      <!-- testimony Column -->
      <ng-container matColumnDef="testimony">
        <th mat-header-cell *matHeaderCellDef>TESTIMONIO</th>
        <td mat-cell *matCellDef="let element" class="text-left" style="width: 40%;">{{ element.testimony | truncate: '120'}}</td>
      </ng-container>

      <!-- rate Column -->
      <ng-container matColumnDef="rate">
        <th mat-header-cell *matHeaderCellDef>RAITING</th>
        <td mat-cell *matCellDef="let element" class="text-left" style="width: 5%;">{{ element.rate}}</td>
      </ng-container>

      <!-- video Column -->
      <ng-container matColumnDef="video">
        <th mat-header-cell *matHeaderCellDef>LINK DE VIDEO</th>
        <td mat-cell *matCellDef="let element" style="width: 5%;">{{ element.link }}</td>
      </ng-container>

      <!-- visible Column -->
      <ng-container matColumnDef="visible">
        <th mat-header-cell *matHeaderCellDef>VISIBLE/OCULTAR</th>
        <td mat-cell *matCellDef="let element" style="width: 10%;">
            <mat-slide-toggle [(ngModel)]="element.active" (change)="visible($event, element)"></mat-slide-toggle>
        </td>
      </ng-container>

      <!-- actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="center-text" style="font-weight: bold">ACCIONES</th>
        <td mat-cell *matCellDef="let element; let i = index">
          <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign.gt-xs="center" fxLayoutAlign.xs="center center">
            <i class="tio-edit style-icon cursor-pointer" (click)="editItem(element)"></i>
            <img class="cursor-pointer" (click)="deleteItem(element)" src="/assets/img/dashboard/icon-remove-comision.svg" alt="" />
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns" cdkDrag [cdkDragData]="row"></tr>
    </table>
  
    <div class="mt-3 mb-3" fxLayout="row" fxLayoutAlign="end end">
      <button mat-raised-button color="orange" (click)="openModalTestimony()" id="download-users" class="ml-2">
        <span fxLayout="row" fxLayoutAlign="start center">
        <i class="tio-upload_on_cloud mr-2"></i>
          Agregar testimonio
        </span>
      </button>
    </div>
  </div>
  