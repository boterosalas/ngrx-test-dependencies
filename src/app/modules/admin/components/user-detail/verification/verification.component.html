<div class="verification">
    <h3 class="secundary-text">Verificaci√≥n</h3>
    <form [formGroup]="dateSelectedState">
      <mat-form-field class="selected-state-account">
        <mat-select formControlName="state">
          <mat-option
            (click)="changeVerified()"
            *ngFor="let accountStatus of accountStatements"
            value="{{ accountStatus.id }}"
            class="select-option-status"
          >
            <span>{{ accountStatus.value }}</span>
          </mat-option>
        </mat-select>
      </mat-form-field>
    </form>

    <p class="galano-bold gray edit-message w-label">
      MENSAJE DE RECHAZO
      <app-button title="" id="reject" haveTitle="false" classButton="p-0" classIcon="tio-edit style-icon" [haveIcon]="true" (action)="editRejectionMessage()" align="start"  color="icon" classButton="no-shadow" [disabled]="!enableRejectionMessage"></app-button>
    </p>
    <p class="rejection-message">
      {{ this.enableRejectionMessage && this.data.responseaccountbank ? this.data.responseaccountbank : '-' }}
    </p>
  </div>

  <!-- template -->

  <ng-template #templateRejectionMessage>
    <div>
      <form [formGroup]="dataRejectionMessage">
        <mat-form-field class="w-100">
          <mat-select (selectionChange)="selectMessage($event)" placeholder="{{ 'GENERIC.MESSAGE' | translate }}" id="message" formControlName="messageSel">
            <mat-option *ngFor="let message of message" value="{{ message.value }}" matTooltip="{{ message.value }}">{{ message.value }}</mat-option>
          </mat-select>
          <mat-error id="requiredTypeId" *ngIf="dataRejectionMessage.controls.messageSel.invalid">{{
            'GENERIC.REQUIRED' | translate: { formValue: '' }
          }}</mat-error>
        </mat-form-field>

        <mat-form-field class="w-100" *ngIf="showOther">
          <textarea
            matInput
            placeholder="Mensaje de rechazo"
            formControlName="message"
            type="text"
            class="text-area-heigth"
            value="{{ this.data.responseaccountbank ? this.data.responseaccountbank : '' }}"
          ></textarea>
          <mat-error
            id="requiredMessage"
            *ngIf="dataRejectionMessage.controls.message.invalid && dataRejectionMessage.controls.message.errors.required"
            >{{ 'GENERIC.REQUIRED' | translate: { formValue: 'Mensaje de rechazo' } }}</mat-error
          >
        </mat-form-field>
      </form>
  
      <div class="mt-3 mb-2" fxLayout="row" fxLayoutAlign="end end">
        <button mat-button ngClass="button_cancel" (click)="onNoClick()">Cancelar</button>
        <button
          mat-raised-button
          color="orange"
          (click)="saveRejectionMessage()"
          id="saveMessage"
          class="ml-2"
          [disabled]="!dataRejectionMessage.valid"
        >
          Guardar Cambios
        </button>
      </div>
    </div>
  </ng-template>