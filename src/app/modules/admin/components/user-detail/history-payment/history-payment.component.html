<div fxLayout="row" fxLayoutAlign="space-between start">
  <app-card-data
    [number]="account | currency: '':'symbol':'1.0-0'"
    Classtag="gtmReportesClicMisComisionesVerDetalle1"
    classCard="color-card mw-a admin"
    imgCard="assets/img/icon-com.svg"
    text="Comisiones de este mes"
    textToolTip="Las compras de tus referidos efectivas que se generen por medio de tus links durante el mes, se pagarán al siguiente mes entre los días 15 y 20."
    (openDetail)="break('commissions')"
    [showIcon]="false"
    direction="column-reverse"
  ></app-card-data>

  <app-card-data
    [number]="available | currency: '':'symbol':'1.0-0'"
    Classtag="gtmReportesClicMisComisionesVerDetalle2"
    classCard="color-card-1 mw-a admin"
    imgCard="assets/img/icon-pay.svg"
    text="Saldo pendiente por pagar"
    textToolTip="Este dinero corresponde a los saldos acumulados en los saldos anteriores, y te será pagado cuando completes el monto mínimo ."
    (openDetail)="break('balance')"
    [showIcon]="false"
    direction="column-reverse"
  ></app-card-data>

  <app-card-data
    [number]="rejected | currency: '':'symbol':'1.0-0'"
    Classtag="gtmReportesClicMisComisionesVerDetalle3"
    classCard="color-card-3 mw-a admin"
    imgCard="assets/img/icon-rejected-com.svg"
    text="Comisiones rechazadas"
    textToolTip="Estas comisiones no se hicieron efectivas, ya que el negocio confirmó que la compra no fue realizada de manera exitosa."
    (openDetail)="break('rejected-commissions')"
    [showIcon]="false"
    direction="column-reverse"
  ></app-card-data>

  <app-card-data-total
    [radicado]="totalAcumulated | currency: '':'symbol':'1.0-0'"
    description="Total comisiones"
    classTotal="color-card-2 admin"
    [linksTotal]="totalLinks"
    [productosTotales]="totalProducts"
    [conversionRate]="conversionRate"
    imgTotal="assets/img/icon-total.svg"
    Classtag="gtmReportesClicMisComisionesSaldoAcumulado"
    [showIcon]="false"
    direction="column-reverse"
  ></app-card-data-total>
</div>

<div fxLayout="row" class="w-100">
  <div fxLayout="column" class="w-100" fxLflex="100">
    <app-table-historial (dataUser)="userData($event)" [dataSource]="dataSource" [size]="pageSize" [p]="pageIndex" [totalItems]="totalItems"></app-table-historial>

    <pagination-template #p="paginationApi" (pageChange)="pagination($event)">
      <div fxLayout="row" fxLayoutGap="12px" class="paginator mt-3" fxLayoutAlign="end center">
        <span class="items">Items por página {{ pageSize }}</span>
        <div class="pagination-previous" [class.disabled]="p.isFirstPage()">
          <a (click)="p.previous()"> <i class="tio-back_ui"></i> </a>
        </div>

        <div class="bubble" fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="space-between center">
          <div *ngFor="let page of p.pages" [class.current]="p.getCurrent() === page.value">
            <a (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">
              <span class="cursor-pointer">{{ page.label }}</span>
            </a>
            <div *ngIf="p.getCurrent() === page.value">
              <span class="cursor-pointer">{{ page.label }}</span>
            </div>
          </div>
        </div>

        <div class="pagination-next" [class.disabled]="p.isLastPage()">
          <a (click)="p.next()"> <i class="tio-next_ui"></i> </a>
        </div>
      </div>
    </pagination-template>
  </div>
</div>

<ng-template #templateBreak>
  <p>
    Las compras de tus referidos efectivas que se generen por medio de tus links durante el mes, se pagarán al siguiente mes entre los días
    15 y 20.
  </p>
  <app-table-detail-comission [dataSource]="dataBreak1"></app-table-detail-comission>
</ng-template>

<ng-template #templateBreak2>
  <p>
    Este dinero corresponde a los saldos acumulados en los saldos anteriores, y te será pagado cuando completes el monto mínimo ($ 10,000).
  </p>
  <app-table-detail-comission [dataSource]="dataBreak2"></app-table-detail-comission>
</ng-template>

<ng-template #templateBreak3>
  <p>Estas comisiones no se hicieron efectivas, ya que el negocio confirmó que la compra no fue realizada de manera exitosa.</p>
  <app-table-detail-comission [dataSource]="dataBreak3"></app-table-detail-comission>
</ng-template>

<ng-template #templateAcumulated>
  <p>
    Este dinero corresponde a los saldos acumulados en los saldos anteriores, y te será pagado cuándo completes el monto mínimo($10,000).
  </p>
  <app-table-detail-comission [dataSource]="dataAcumulated"></app-table-detail-comission>
</ng-template>
