<div class="wrapper">
  <div fxLayout="column" fxLayoutAlign="center" class="header border-bottom-gray">
    <div fxLayout="row" fxLayoutAlign="space-between center">
      <h3 class="mb-2 mt-2 title-name">Notas</h3>
    </div>
  </div>

  <div #content class="list-notes" >
    <div class="note" #notes *ngFor="let note of listNotes" [ngClass]="{ 'type-note': note.type === 1, 'type-status': note.type === 0 }">
      <div class="change-state galano-bold" *ngIf="note.type === 0">
        <span>CAMBIO DE ESTADO ({{ note.state }})</span>
      </div>
      <div class="text">
        <div [innerHtml]="note.text "></div>
      </div>
      <div fxLayout="row" class="footer-note" fxLayoutAlign="space-between center">
        <span>{{ note.adminName }}</span>
        <span>{{ note.date | date: 'dd/MM/yyyy hh:mm:ss' }}</span>
      </div>
    </div>
  </div>

  <div class="mt-3" fxLayout="row" fxLayoutAlign="end">
    <form [formGroup]="dateForm" fxLayout="column" class="w-100">
      <mat-form-field appearance="fill">
        <mat-label>Nota interna</mat-label>
        <textarea formControlName="responsenovelty" matInput></textarea>
      </mat-form-field>
      <mat-error id="maxName" *ngIf="dateForm.controls.responsenovelty.invalid && dateForm.controls.responsenovelty.errors.maxlength">{{
        'GENERIC.MAX_CHARACTERS'
          | translate
            : {
                maxchar: dateForm.controls.responsenovelty.errors.maxlength.requiredLength
              }
      }}</mat-error
      ><mat-error id="maxName" *ngIf="dateForm.controls.responsenovelty.touched && dateForm.controls.responsenovelty.errors?.required">{{
        'GENERIC.REQUIRED' | translate: { formValue: 'nota interna' }
      }}</mat-error>
    </form>
  </div>
  <div fxLayout="row" fxLayoutAlign="end end">
    <button mat-raised-button color="orange" [disabled]="!dateForm.valid" (click)="sendNote()" id="download-users" class="ml-2 send-button">
      Enviar
    </button>
  </div>
</div>
